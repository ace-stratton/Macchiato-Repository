<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="607px" preserveAspectRatio="none" style="width:1411px;height:607px;background:#FFFFFF;" version="1.1" viewBox="0 0 1411 607" width="1411px" zoomAndPan="magnify"><defs><filter height="300%" id="f11zo5docgw7is" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="281" x="561.75" y="30.6855">MAC protocol Client-side sequence</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="22" x2="22" y1="126.25" y2="522.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="152" x2="152" y1="126.25" y2="522.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="829.5" x2="829.5" y1="126.25" y2="522.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1148" x2="1148" y1="126.25" y2="522.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1354.5" x2="1354.5" y1="126.25" y2="522.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="123.1738">User</text><ellipse cx="22.5" cy="51.6406" fill="#FEFECE" filter="url(#f11zo5docgw7is)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M22.5,59.6406 L22.5,86.6406 M9.5,67.6406 L35.5,67.6406 M22.5,86.6406 L9.5,101.6406 M22.5,86.6406 L35.5,101.6406 " fill="none" filter="url(#f11zo5docgw7is)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="535.6504">User</text><ellipse cx="22.5" cy="548.7266" fill="#FEFECE" filter="url(#f11zo5docgw7is)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M22.5,556.7266 L22.5,583.7266 M9.5,564.7266 L35.5,564.7266 M22.5,583.7266 L9.5,598.7266 M22.5,583.7266 L35.5,598.7266 " fill="none" filter="url(#f11zo5docgw7is)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f11zo5docgw7is)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="165" x="68" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="75" y="111.1738">LEDProtocolClientApp.c</text><rect fill="#FEFECE" filter="url(#f11zo5docgw7is)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="165" x="68" y="521.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="75" y="542.6504">LEDProtocolClientApp.c</text><rect fill="#FEFECE" filter="url(#f11zo5docgw7is)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="757.5" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="764.5" y="111.1738">LEDProtocolClient.c</text><rect fill="#FEFECE" filter="url(#f11zo5docgw7is)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="757.5" y="521.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="764.5" y="542.6504">LEDProtocolClient.c</text><rect fill="#FEFECE" filter="url(#f11zo5docgw7is)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="1100" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1107" y="111.1738">ESPS library</text><rect fill="#FEFECE" filter="url(#f11zo5docgw7is)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="1100" y="521.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1107" y="542.6504">ESPS library</text><rect fill="#FEFECE" filter="url(#f11zo5docgw7is)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="86" x="1309.5" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1316.5" y="111.1738">MAC Driver</text><rect fill="#FEFECE" filter="url(#f11zo5docgw7is)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="86" x="1309.5" y="521.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1316.5" y="542.6504">MAC Driver</text><rect fill="#EEEEEE" filter="url(#f11zo5docgw7is)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1404.5" x="0" y="157.4258"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1404.5" y1="157.4258" y2="157.4258"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1404.5" y1="160.4258" y2="160.4258"/><rect fill="#EEEEEE" filter="url(#f11zo5docgw7is)" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="197" x="603.75" y="146.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="179" x="609.75" y="163.7451">1. Client context registration</text><polygon fill="#A80036" points="140.5,198.9531,150.5,202.9531,140.5,206.9531,144.5,202.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="22.5" x2="146.5" y1="202.9531" y2="202.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="29.5" y="198.0967">LEDClientAppInit()</text><polygon fill="#A80036" points="817.5,229.3047,827.5,233.3047,817.5,237.3047,821.5,233.3047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="152.5" x2="823.5" y1="233.3047" y2="233.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="159.5" y="228.4482">LED_registerClientApi(LED_ClientApi_t *pCliApiHandlers)</text><rect fill="#EEEEEE" filter="url(#f11zo5docgw7is)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1404.5" x="0" y="262.4805"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1404.5" y1="262.4805" y2="262.4805"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1404.5" y1="265.4805" y2="265.4805"/><rect fill="#EEEEEE" filter="url(#f11zo5docgw7is)" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="288" x="558.25" y="251.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="270" x="564.25" y="268.7998">2. Sending a request to the protocol server</text><polygon fill="#A80036" points="817.5,304.0078,827.5,308.0078,817.5,312.0078,821.5,308.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="152.5" x2="823.5" y1="308.0078" y2="308.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="159.5" y="303.1514">LED_setLedStateReq(ctx, u8LedId, newState)</text><polygon fill="#A80036" points="1136.5,334.3594,1146.5,338.3594,1136.5,342.3594,1140.5,338.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="829.5" x2="1142.5" y1="338.3594" y2="338.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="836.5" y="333.5029">ESSA_Stack_SendFrame(...)</text><polygon fill="#A80036" points="1342.5,364.7109,1352.5,368.7109,1342.5,372.7109,1346.5,368.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1148.5" x2="1348.5" y1="368.7109" y2="368.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1155.5" y="363.8545">MAC_DrvEnqMessage(...)</text><rect fill="#EEEEEE" filter="url(#f11zo5docgw7is)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1404.5" x="0" y="397.8867"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1404.5" y1="397.8867" y2="397.8867"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1404.5" y1="400.8867" y2="400.8867"/><rect fill="#EEEEEE" filter="url(#f11zo5docgw7is)" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="229" x="587.75" y="386.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="211" x="593.75" y="404.2061">3. Response received from server</text><polygon fill="#A80036" points="1159.5,439.4141,1149.5,443.4141,1159.5,447.4141,1155.5,443.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1153.5" x2="1353.5" y1="443.4141" y2="443.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="1165.5" y="438.5576">ESSA_Stack_DataDispatch(...)</text><polygon fill="#A80036" points="840.5,469.7656,830.5,473.7656,840.5,477.7656,836.5,473.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="834.5" x2="1147.5" y1="473.7656" y2="473.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="846.5" y="468.9092">ESSA_Stack_ProtocolInfo_t::pfDataHandlerCbk(...)</text><polygon fill="#A80036" points="163.5,500.1172,153.5,504.1172,163.5,508.1172,159.5,504.1172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="157.5" x2="828.5" y1="504.1172" y2="504.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="653" x="169.5" y="499.2607">LED_setLedStateResponseHandler(RespContext *pRespCtx, LEDsetLedStateResponseData_t *pResponseData)</text><!--MD5=[8a4955fb9a8ed22863a48052be2685ed]
@startuml

title MAC protocol Client-side sequence

actor User
participant clientApp as "LEDProtocolClientApp.c"
participant protoClient as "LEDProtocolClient.c"
participant satApi as "ESPS library"
participant macDrv as "MAC Driver"

== 1. Client context registration ==
User -> clientApp: LEDClientAppInit()
clientApp -> protoClient: LED_registerClientApi(LED_ClientApi_t *pCliApiHandlers)

== 2. Sending a request to the protocol server ==
clientApp -> protoClient: LED_setLedStateReq(ctx, u8LedId, newState)
protoClient -> satApi: ESSA_Stack_SendFrame(...)
satApi -> macDrv: MAC_DrvEnqMessage(...)

== 3. Response received from server ==
macDrv -> satApi: ESSA_Stack_DataDispatch(...)
satApi -> protoClient: ESSA_Stack_ProtocolInfo_t::pfDataHandlerCbk(...)
protoClient -> clientApp: LED_setLedStateResponseHandler(RespContext *pRespCtx, LEDsetLedStateResponseData_t *pResponseData)

@enduml

PlantUML version 1.2021.12(Tue Oct 05 19:01:58 EEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>